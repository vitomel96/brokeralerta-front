<div class="d-flex gap-3 my-3">
  <input type="text" [(ngModel)]="searchTerm" placeholder="Buscar broker..." class="form-control" />

  <select [(ngModel)]="selectedCountry" class="form-select">
    <option value="">Todos los países</option>
    <option *ngFor="let country of countryList" [value]="country">{{ country }}</option>
  </select>
</div>

<div *ngFor="let broker of paginatedBrokers()" class="broker-card row" (click)="goToBrokerDetail(broker)">
  <div class="broker-logo col-4">
    <img [src]="broker.logo" alt="Logo de {{ broker.localShortName }}" class="img-fluid" />

  </div>
  <div class="col">

  <div class="broker-header ">
    <h3>{{ broker.localShortName }}</h3>
  </div>
  <div class="d-flex gap-3">
  <div class="d-flex gap-2 align-items-center">
  <img [src]="generateFlag(broker.registerCountry)" alt="Bandera de {{ broker.registerCountry }}" class="broker-flag" />
<span class="mb-0">{{ broker.registerCountry }}</span>

  </div>
  <p class="mb-0">{{broker.labels[0].labelName}}</p>
</div>

<div class="d-flex gap-2 align-items-center mt-2">
  <img [src]="broker.labels[1].flag" alt="Bandera de {{ broker.labels[1].flag}}" class="broker-flag" />
<span class="mb-0">{{broker.labels[1].labelName }}</span>
 <span class="regulado">Regulado</span>
  </div>


<div class="d-flex gap-2 align-items-center mt-2">
  <img [src]="broker.labels[2].flag" alt="Bandera de {{ broker.labels[2].flag}}" class="broker-flag" />
<span class="mb-0">{{broker.labels[2].labelName }}</span>
 <span class="regulado">Regulado</span>
  </div>
</div>
<div class="col d-flex align-items-center justify-content-center">
  <div class="d-flex flex-column justify-content-center align-items-center">

  <span class="score text-center">{{ broker.score }}</span>
  <p class="text-center">Calificación</p>
</div>

</div>

</div>
<div class="d-flex justify-content-center mt-4 gap-3">
  <button class="btn btn-light" (click)="prevPage()" [disabled]="currentPage === 1">Anterior</button>
  <span class="d-flex align-items-center">Página {{ currentPage }} de {{ totalPages }}</span>
  <button class="btn btn-dark" (click)="nextPage()" [disabled]="currentPage === totalPages">Siguiente</button>
</div>
